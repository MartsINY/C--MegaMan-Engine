<Entity name="BreakBlock" maxAlive="50">
	<GravityFlip>False</GravityFlip>
	<Collision Enabled="False" />
	<Movement>
		<Flying>True</Flying>
		<FlipSprite />
	</Movement>
	<Position persistoffscreen="True" />
	<Tilesheet>images\blocks\break.png</Tilesheet>
	<Sprite name="Show" width="16" height="16" tilesheet="images\blocks\break.png">
		<Hotspot x="0" y="0" />
		<Frame x="0" y="0" duration="0" />
	</Sprite>
	<Sprite name="hide" width="1" height="1" tilesheet="images\blocks\break.png">
		<Hotspot x="0" y="0" />
		<Frame x="16" y="0" duration="0" />
	</Sprite>
	<State name="Start">
		<Initialize>
			<Sprite>
				<Name>Show</Name>
			</Sprite>
			<Collision>
				<Hitbox x="0" y="0" width="16" height="16" damage="0" environment="False" pushaway="True" properties="block">
					<Group>Block</Group>
					<Hits>Solid</Hits>
				</Hitbox>
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>Collision.TouchedBy("Player") Or Collision.TouchedBy("BlockBreaker")</Condition>
			<Effect>
				<State>Tripped</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Tripped">
		<Initialize />
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 8</Condition>
			<Effect>
				<State>Cascade</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Cascade">
		<Initialize>
			<Collision>
				<Hitbox x="0" y="0" width="16" height="16" damage="0" environment="False" pushaway="True" properties="block">
					<Group>Block</Group>
					<Hits>Solid</Hits>
				</Hitbox>
				<Hitbox x="-2" y="2" width="20" height="12" damage="0" environment="False" pushaway="True" properties="block">
					<Group>BlockBreaker</Group>
					<Hits>Block</Hits>
				</Hitbox>
				<Hitbox x="2" y="-2" width="12" height="20" damage="0" environment="False" pushaway="True" properties="block">
					<Group>BlockBreaker</Group>
					<Hits>Block</Hits>
				</Hitbox>
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 30</Condition>
			<Effect>
				<State>Hide</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Hide">
		<Initialize>
			<Sprite>
				<Name>hide</Name>
			</Sprite>
			<Collision>
				<Hitbox x="0" y="0" width="0" height="0" damage="0" environment="True" pushaway="True" properties="Default" />
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 120</Condition>
			<Effect>
				<State>Start</State>
			</Effect>
		</Trigger>
	</State>
</Entity>