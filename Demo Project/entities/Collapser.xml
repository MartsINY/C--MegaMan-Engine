<Entity name="Collapser" maxAlive="50">
	<GravityFlip>False</GravityFlip>
	<Collision Enabled="False">
		<Hitbox name="Up" x="-8" y="-22" width="16" height="22" properties="Default" damage="1" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
		<Hitbox name="Mid" x="-8" y="-13" width="16" height="13" properties="Default" damage="1" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
		<Hitbox name="Down" x="-6" y="-6" width="16" height="6" properties="Default" damage="1" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
	</Collision>
	<Health max="1" flash="8" />
	<Tilesheet>images\enemies\collapser.png</Tilesheet>
	<Sprite name="Stand" width="16" height="22" tilesheet="images\enemies\collapser.png">
		<Hotspot x="8" y="22" />
		<Frame x="0" y="0" duration="6" />
		<Frame x="16" y="0" duration="6" />
	</Sprite>
	<Sprite name="Fall" width="16" height="13" tilesheet="images\enemies\collapser.png">
		<Hotspot x="8" y="13" />
		<Frame x="32" y="9" duration="0" />
	</Sprite>
	<Sprite name="Down" width="16" height="9" tilesheet="images\enemies\collapser.png">
		<Hotspot x="8" y="9" />
		<Frame x="48" y="13" duration="6" />
		<Frame x="64" y="13" duration="6" />
		<Frame x="80" y="13" duration="6" />
	</Sprite>
	<State name="Start">
		<Initialize>
			<Flying>False</Flying>
			<FlipSprite />
			<Sprite>
				<Name>Stand</Name>
			</Sprite>
			<Collision>
				<EnableBox name="Up" />
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>PlayerDistY &lt; 64 And PlayerDistX &lt; 96</Condition>
			<Effect>
				<State>Fall</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Fall">
		<Initialize>
			<Sprite>
				<Name>Fall</Name>
			</Sprite>
			<Collision>
				<EnableBox name="Mid" />
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt; 6</Condition>
			<Effect>
				<State>Down</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Down">
		<Initialize>
			<Sprite>
				<Name>Down</Name>
			</Sprite>
			<Flying />
			<FlipSprite />
			<X direction="Player" magnitude="3" />
			<Collision>
				<EnableBox name="Down" />
			</Collision>
		</Initialize>
		<Logic>
			<Flying />
			<FlipSprite />
			<X magnitude="2" />
		</Logic>
		<Trigger>
			<Condition>Collision.BlockLeft Or Collision.BlockRight</Condition>
			<Effect>
				<Flying />
				<FlipSprite />
				<X direction="Reverse" magnitude="3" />
			</Effect>
		</Trigger>
	</State>
	<Trigger>
		<Condition>Health.Hit == True</Condition>
		<Effect>
			<Sound name="EnemyHurt" playing="True" />
		</Effect>
	</Trigger>
	<Movement>
		<Flying />
		<FlipSprite />
	</Movement>
</Entity>