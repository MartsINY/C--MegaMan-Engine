<Entity name="GroundCannon" maxAlive="50">
	<GravityFlip>False</GravityFlip>
	<Collision Enabled="False">
		<Hitbox name="Down" x="-8" y="14" width="16" height="4" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
		<Hitbox name="Low" x="-10" y="6" width="20" height="12" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
		<Hitbox name="Mid" x="-12" y="-2" width="24" height="20" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
		<Hitbox name="High" x="-12" y="-10" width="24" height="28" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
	</Collision>
	<Health max="2" flash="8" />
	<Tilesheet>images\enemies\groundcannon.png</Tilesheet>
	<Sprite name="Down" width="24" height="32" tilesheet="images\enemies\groundcannon.png">
		<Hotspot x="12" y="14" />
		<Frame x="0" y="0" duration="0" />
	</Sprite>
	<Sprite name="MoveUp" width="24" height="32" tilesheet="images\enemies\groundcannon.png">
		<Hotspot x="12" y="14" />
		<Frame x="0" y="0" duration="5" />
		<Frame x="24" y="0" duration="5" />
		<Frame x="48" y="0" duration="5" />
		<Frame x="72" y="0" duration="20" />
		<Frame x="96" y="0" duration="5" />
		<Frame x="120" y="0" duration="20" />
	</Sprite>
	<Sprite name="MoveDown" width="24" height="32" tilesheet="images\enemies\groundcannon.png">
		<Hotspot x="12" y="14" />
		<Frame x="120" y="0" duration="20" />
		<Frame x="96" y="0" duration="5" />
		<Frame x="72" y="0" duration="20" />
		<Frame x="48" y="0" duration="5" />
		<Frame x="24" y="0" duration="5" />
		<Frame x="0" y="0" duration="20" />
	</Sprite>
	<State name="Start">
		<Initialize>
			<Sprite>
				<Name>Down</Name>
			</Sprite>
			<Flying>True</Flying>
			<FlipSprite>True</FlipSprite>
			<Collision>
				<EnableBox name="Down" />
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt; 20 And PlayerDistX &lt; 128 And PlayerDistY &lt; 64</Condition>
			<Effect>
				<State>Up</State>
				<Flying />
				<FlipSprite />
				<X direction="Player" magnitude="1" />
			</Effect>
		</Trigger>
	</State>
	<State name="Up">
		<Initialize>
			<Sprite>
				<Name>MoveUp</Name>
			</Sprite>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime == 5</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Low" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 10</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Mid" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 15</Condition>
			<Effect>
				<Collision>
					<EnableBox name="High" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime &gt; 40</Condition>
			<Effect>
				<Spawn name="EnemyShot" state="Start">
					<Position />
				</Spawn>
				<State>Down</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Down">
		<Initialize>
			<Sprite>
				<Name>MoveDown</Name>
			</Sprite>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime == 50</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Low" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 45</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Mid" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 40</Condition>
			<Effect>
				<Collision>
					<EnableBox name="High" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime &gt;= 55</Condition>
			<Effect>
				<State>Start</State>
			</Effect>
		</Trigger>
	</State>
	<Trigger>
		<Condition>Health.Hit == True</Condition>
		<Effect>
			<Sound name="EnemyHurt" playing="True" />
		</Effect>
	</Trigger>
	<Movement>
		<Flying />
		<FlipSprite />
	</Movement>
</Entity>