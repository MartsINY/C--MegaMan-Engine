<Entity name="ShieldGuy" maxAlive="50">
	<GravityFlip>False</GravityFlip>
	<Collision Enabled="False">
		<Hitbox name="Shield" x="4" y="-16" width="8" height="32" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
			<Group>Deflect</Group>
			<Resist name="ALL" multiply="0" />
		</Hitbox>
		<Hitbox name="Body" x="-8" y="-16" width="12" height="32" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
	</Collision>
	<Health max="6" flash="8" />
	<Position persistoffscreen="True" />
	<Tilesheet>images\enemies\shieldguy.png</Tilesheet>
	<Sprite name="Move" width="24" height="33" tilesheet="images\enemies\shieldguy.png">
		<Hotspot x="12" y="16" />
		<Frame x="0" y="0" duration="4" />
		<Frame x="30" y="-1" duration="4" />
	</Sprite>
	<Sprite name="Turn" width="24" height="32" tilesheet="images\enemies\shieldguy.png">
		<Hotspot x="12" y="16" />
		<Frame x="58" y="0" duration="6" />
		<Frame x="84" y="0" duration="6" />
		<Frame x="114" y="0" duration="6" />
		<Frame x="142" y="0" duration="8" />
	</Sprite>
	<State name="Start">
		<Initialize>
			<Collision>
				<EnableBox name="Shield" />
				<EnableBox name="Body" />
			</Collision>
			<Sprite>
				<Name>Move</Name>
			</Sprite>
		</Initialize>
		<Logic>
			<Flying>True</Flying>
			<FlipSprite>True</FlipSprite>
			<X direction="Right" magnitude="2" />
			<Y magnitude="0" />
		</Logic>
		<Trigger>
			<Condition>Collision.BlockRight</Condition>
			<Effect>
				<State>TurnLeft</State>
			</Effect>
		</Trigger>
	</State>
	<State name="TurnLeft">
		<Initialize>
			<Sprite>
				<Name>Turn</Name>
			</Sprite>
			<Flying />
			<FlipSprite />
			<X magnitude="0" />
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 24</Condition>
			<Effect>
				<State>Right</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Right">
		<Initialize>
			<Sprite>
				<Name>Move</Name>
			</Sprite>
		</Initialize>
		<Logic>
			<Flying />
			<FlipSprite />
			<X direction="Left" magnitude="2" />
			<Y magnitude="0" />
		</Logic>
		<Trigger>
			<Condition>Collision.BlockLeft</Condition>
			<Effect>
				<State>TurnRight</State>
			</Effect>
		</Trigger>
	</State>
	<State name="TurnRight">
		<Initialize>
			<Sprite>
				<Name>Turn</Name>
			</Sprite>
			<Flying />
			<FlipSprite />
			<X magnitude="0" />
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 24</Condition>
			<Effect>
				<State>Start</State>
			</Effect>
		</Trigger>
	</State>
	<Trigger>
		<Condition>Health.Hit == True</Condition>
		<Effect>
			<Sound name="EnemyHurt" playing="True" />
		</Effect>
	</Trigger>
	<Movement>
		<Flying />
		<FlipSprite />
	</Movement>
</Entity>