<Entity name="ShieldShooter" maxAlive="50">
	<GravityFlip>False</GravityFlip>
	<Collision Enabled="False">
		<Hitbox name="Shield" x="0" y="-10" width="13" height="26" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
			<Group>Deflect</Group>
			<Resist name="ALL" multiply="0" />
		</Hitbox>
		<Hitbox name="Body" x="-9" y="-10" width="10" height="26" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
		<Hitbox name="Vulnerable" x="-9" y="-16" width="19" height="32" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
			<Group>Enemy</Group>
		</Hitbox>
	</Collision>
	<Health max="2" flash="8" />
	<Tilesheet>images\enemies\shieldshooter.png</Tilesheet>
	<Sprite width="27" height="32" tilesheet="images\enemies\shieldshooter.png">
		<Hotspot x="17" y="16" />
		<Frame x="0" y="0" duration="120" />
		<Frame x="33" y="0" duration="8" />
		<Frame x="63" y="0" duration="40" />
		<Frame x="33" y="0" duration="8" />
	</Sprite>
	<State name="Start">
		<Initialize>
			<Flying />
			<FlipSprite>True</FlipSprite>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime == 1</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Shield" />
					<EnableBox name="Body" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 128</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Vulnerable" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 134</Condition>
			<Effect>
				<Spawn name="EnemyShot" state="Start">
					<Position>
						<X base="Inherit" offset="8" direction="Inherit" />
						<Y base="Inherit" offset="5" direction="Down" />
					</Position>
				</Spawn>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 168</Condition>
			<Effect>
				<Collision>
					<EnableBox name="Shield" />
					<EnableBox name="Body" />
				</Collision>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>StateTime == 175</Condition>
			<Effect>
				<State>Reset</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Reset">
		<Initialize />
		<Logic />
		<Trigger>
			<Condition>True</Condition>
			<Effect>
				<State>Start</State>
			</Effect>
		</Trigger>
	</State>
	<Trigger>
		<Condition>Health.Hit == True</Condition>
		<Effect>
			<Sound name="EnemyHurt" playing="True" />
		</Effect>
	</Trigger>
	<Movement>
		<Flying />
		<FlipSprite />
	</Movement>
</Entity>