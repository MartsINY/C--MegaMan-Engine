<Entity name="SpikeBlock" maxAlive="50">
	<GravityFlip>False</GravityFlip>
	<Collision Enabled="False">
		<Hitbox name="body" x="-8" y="-8" width="16" height="16" properties="block" environment="True" pushaway="True">
			<Hits>Solid</Hits>
			<Group>Block</Group>
		</Hitbox>
		<Hitbox name="left" x="-16" y="-6" width="8" height="12" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
		</Hitbox>
		<Hitbox name="right" x="8" y="-6" width="8" height="12" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
		</Hitbox>
		<Hitbox name="up" x="-6" y="-16" width="12" height="8" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
		</Hitbox>
		<Hitbox name="down" x="-6" y="8" width="12" height="8" properties="Default" damage="2" environment="True" pushaway="True">
			<Hits>Player</Hits>
		</Hitbox>
	</Collision>
	<Position persistoffscreen="True" />
	<Tilesheet>images\blocks\spikeflip.png</Tilesheet>
	<Sprite name="Horiz" width="32" height="32" tilesheet="images\blocks\spikeflip.png">
		<Hotspot x="16" y="16" />
		<Frame x="0" y="0" duration="0" />
	</Sprite>
	<Sprite name="HorizFlash" width="32" height="32" tilesheet="images\blocks\spikeflip.png">
		<Hotspot x="16" y="16" />
		<Frame x="0" y="0" duration="10" />
		<Frame x="32" y="0" duration="10" />
		<Frame x="0" y="0" duration="10" />
		<Frame x="32" y="0" duration="10" />
		<Frame x="0" y="0" duration="10" />
		<Frame x="32" y="0" duration="10" />
		<Frame x="64" y="0" duration="10" />
		<Frame x="160" y="0" duration="20" />
	</Sprite>
	<Sprite name="Vert" width="32" height="32" tilesheet="images\blocks\spikeflip.png">
		<Hotspot x="16" y="16" />
		<Frame x="96" y="0" duration="0" />
	</Sprite>
	<Sprite name="VertFlash" width="32" height="32" tilesheet="images\blocks\spikeflip.png">
		<Hotspot x="16" y="16" />
		<Frame x="96" y="0" duration="10" />
		<Frame x="128" y="0" duration="10" />
		<Frame x="96" y="0" duration="10" />
		<Frame x="128" y="0" duration="10" />
		<Frame x="96" y="0" duration="10" />
		<Frame x="128" y="0" duration="10" />
		<Frame x="160" y="0" duration="10" />
		<Frame x="64" y="0" duration="20" />
	</Sprite>
	<State name="Start">
		<Initialize>
			<Sprite>
				<Name>Horiz</Name>
			</Sprite>
			<Collision>
				<EnableBox name="body" />
				<EnableBox name="left" />
				<EnableBox name="right" />
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt; 120</Condition>
			<Effect>
				<State>HFlash</State>
			</Effect>
		</Trigger>
	</State>
	<State name="HFlash">
		<Initialize>
			<Collision>
				<EnableBox name="body" />
				<EnableBox name="left" />
				<EnableBox name="right" />
			</Collision>
			<Sprite>
				<Name>HorizFlash</Name>
			</Sprite>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 80</Condition>
			<Effect>
				<State>Vert</State>
			</Effect>
		</Trigger>
	</State>
	<State name="Vert">
		<Initialize>
			<Sprite>
				<Name>Vert</Name>
			</Sprite>
			<Collision>
				<EnableBox name="body" />
				<EnableBox name="up" />
				<EnableBox name="down" />
			</Collision>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt; 120</Condition>
			<Effect>
				<State>VFlash</State>
			</Effect>
		</Trigger>
	</State>
	<State name="VFlash">
		<Initialize>
			<Collision>
				<EnableBox name="body" />
				<EnableBox name="up" />
				<EnableBox name="down" />
			</Collision>
			<Sprite>
				<Name>VertFlash</Name>
			</Sprite>
		</Initialize>
		<Logic />
		<Trigger>
			<Condition>StateTime &gt;= 80</Condition>
			<Effect>
				<State>Start</State>
			</Effect>
		</Trigger>
	</State>
</Entity>