<Entities>
	<Entity name="Player" maxAlive="50">
		<GravityFlip>True</GravityFlip>
		<EditorData defaultSprite="Standing" hide="True" />
		<Collision Enabled="False">
			<Hitbox name="Stand" x="-7.5" y="-9" width="15" height="21" properties="Default" environment="True" pushaway="True">
				<Group>Solid</Group>
				<Group>Player</Group>
			</Hitbox>
			<Hitbox name="PlayerRush" x="-7.5" y="4" width="15" height="8" properties="Default" environment="True" pushaway="True">
				<Group>Solid</Group>
				<Group>PlayerRush</Group>
			</Hitbox>
			<Hitbox name="Slide" x="-7.5" y="-4" width="15" height="16" properties="Default" environment="True" pushaway="True">
				<Group>Solid</Group>
				<Group>Player</Group>
			</Hitbox>
		</Collision>
		<Health max="28" flash="90">
			<Meter name="" x="16" y="16" image="images\meters\healthtick.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0">
				<Sound name="MeterTick" loop="False" volume="1" />
			</Meter>
		</Health>
		<Input />
		<Ladder>
			<Hitbox x="-7.5" y="-10" width="15" height="14" properties="Default" environment="True" pushaway="True" />
		</Ladder>
		<Movement>
			<Flying />
			<FlipSprite />
		</Movement>
		<Tilesheet>images\megaman.png</Tilesheet>
		<Sprite name="Teleport" palette="MegaMan" width="24" height="32" tilesheet="images\megaman.png">
			<Hotspot x="12" y="12" />
			<Frame x="164" y="72" duration="4" />
			<Frame x="190" y="72" duration="4" />
			<Frame x="218" y="72" duration="4" />
		</Sprite>
		<Sprite name="TeleportStart" palette="MegaMan" width="24" height="32" tilesheet="images\megaman.png">
			<Hotspot x="12" y="12" />
			<Frame x="218" y="72" duration="4" />
			<Frame x="190" y="72" duration="4" />
			<Frame x="164" y="72" duration="4" />
		</Sprite>
		<Sprite name="Standing" palette="MegaMan" width="32" height="24" tilesheet="images\megaman.png">
			<Hotspot x="16" y="11" />
			<Frame x="0" y="0" duration="110" />
			<Frame x="32" y="0" duration="10" />
		</Sprite>
		<Sprite name="BeginWalk" palette="MegaMan" width="32" height="24" tilesheet="images\megaman.png">
			<Hotspot x="16" y="11" />
			<Frame x="64" y="0" duration="60" />
		</Sprite>
		<Sprite name="Walking" palette="MegaMan" width="32" height="24" tilesheet="images\megaman.png">
			<Hotspot x="12" y="11" />
			<Frame x="96" y="0" duration="8" />
			<Frame x="128" y="0" duration="8" />
			<Frame x="160" y="0" duration="8" />
		</Sprite>
		<Sprite name="Air" palette="MegaMan" width="32" height="32" tilesheet="images\megaman.png">
			<Hotspot x="16" y="11" />
			<Frame x="168" y="32" duration="60" />
		</Sprite>
		<Sprite name="Sliding" palette="MegaMan" width="32" height="32" tilesheet="images\megaman.png">
			<Hotspot x="16" y="9" />
			<Frame x="128" y="72" duration="60" />
		</Sprite>
		<Sprite name="Climbing" palette="MegaMan" width="32" height="32" tilesheet="images\megaman.png">
			<Hotspot x="16" y="12" />
			<Frame x="0" y="64" duration="12" />
			<Frame x="32" y="64" duration="12" />
		</Sprite>
		<Sprite name="ClimbTop" palette="MegaMan" width="32" height="32" tilesheet="images\megaman.png">
			<Hotspot x="16" y="8" />
			<Frame x="96" y="64" duration="60" />
		</Sprite>
		<Sprite name="ShootStanding" palette="MegaMan" width="40" height="24" tilesheet="images\megaman.png">
			<Hotspot x="20" y="11" />
			<Frame x="0" y="32" duration="60" />
		</Sprite>
		<Sprite name="ShootWalking" palette="MegaMan" width="32" height="24" tilesheet="images\megaman.png">
			<Hotspot x="12" y="11" />
			<Frame x="40" y="32" duration="8" />
			<Frame x="72" y="32" duration="8" />
			<Frame x="104" y="32" duration="8" />
		</Sprite>
		<Sprite name="ShootAir" palette="MegaMan" width="32" height="32" tilesheet="images\megaman.png">
			<Hotspot x="16" y="11" />
			<Frame x="136" y="32" duration="860" />
		</Sprite>
		<Sprite name="ShootClimbing" palette="MegaMan" width="32" height="32" tilesheet="images\megaman.png">
			<Hotspot x="16" y="12" />
			<Frame x="64" y="64" duration="60" />
		</Sprite>
		<Sprite name="Hurt" palette="MegaMan" width="32" height="24" tilesheet="images\megaman.png">
			<Hotspot x="16" y="11" />
			<Frame x="200" y="32" duration="3" />
			<Frame x="200" y="0" duration="3" />
		</Sprite>
		<State name="Sliding">
			<Initialize />
			<Logic />
		</State>
		<State name="Start">
			<Initialize>
				<Collision>
					<Enabled>True</Enabled>
				</Collision>
				<Movement>
					<Flying>False</Flying>
					<FlipSprite>True</FlipSprite>
				</Movement>
			</Initialize>
			<Logic />
		</State>
		<State name="Teleport">
			<Initialize>
				<Sprite>
					<Name>Teleport</Name>
					<Playing>False</Playing>
				</Sprite>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="0" />
					<Y direction="Down" magnitude="8" />
				</Movement>
				<Collision>
					<Enabled>False</Enabled>
				</Collision>
			</Initialize>
			<Logic />
		</State>
		<State name="TeleportOut">
			<Initialize>
				<Sprite>
					<Name>Teleport</Name>
					<Playing>False</Playing>
				</Sprite>
				<Sound name="TeleportOut" playing="True" />
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="0" />
					<Y direction="Up" magnitude="10" />
				</Movement>
				<Collision>
					<Enabled>False</Enabled>
				</Collision>
			</Initialize>
			<Logic />
		</State>
		<State name="TeleportStart">
			<Initialize>
				<Sprite>
					<Name>TeleportStart</Name>
					<Playing>True</Playing>
				</Sprite>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
				</Movement>
				<Collision>
					<Enabled>False</Enabled>
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>StateTime &gt;= 12</Condition>
				<Effect>
					<State>TeleportOut</State>
				</Effect>
			</Trigger>
		</State>
		<State name="TeleportBlink">
			<Initialize>
				<Sprite>
					<Name>TeleportStart</Name>
					<Playing>True</Playing>
				</Sprite>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
				</Movement>
				<Collision>
					<Enabled>False</Enabled>
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>StateTime &gt;= 12</Condition>
				<Effect>
					<State>Teleport</State>
				</Effect>
			</Trigger>
		</State>
		<State name="TeleportEnd">
			<Initialize>
				<Sprite>
					<Name>Teleport</Name>
					<Playing>True</Playing>
				</Sprite>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y magnitude="0" />
				</Movement>
				<Sound name="Teleport" playing="True" />
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>StateTime &gt; 7</Condition>
				<Effect>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
					<Collision>
						<Enabled>True</Enabled>
					</Collision>
					<State>Standing</State>
				</Effect>
			</Trigger>
		</State>
		<State name="Standing">
			<Initialize>
				<Sprite>
					<Name>Standing</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Input.Right==True Or Input.Left==True</Condition>
				<Effect>
					<State>BeginWalk</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>(GravityFlip? Input.Up : Input.Down) And Ladder.AboveLadder == True</Condition>
				<Effect>
					<Ladder>ClimbDown</Ladder>
					<State>ClimbTop</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4 And (Weapon.CurrentWeapon != "RushCoil" Or GameEntity.NumAlive("RushCoil") != 0) And (Weapon.CurrentWeapon != "RushJet" Or GameEntity.NumAlive("RushJet") != 0)</Condition>
				<Effect>
					<Timer>
						<Start>Shoot</Start>
					</Timer>
					<State>ShootStanding</State>
				</Effect>
			</Trigger>
		</State>
		<State name="BeginWalk">
			<Initialize>
				<Sprite>
					<Name>BeginWalk</Name>
				</Sprite>
				<Movement>
					<Flying />
					<FlipSprite />
					<X direction="Input" magnitude="1.375" />
				</Movement>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying />
					<FlipSprite />
					<X direction="Input" magnitude="0.125" />
				</Movement>
			</Logic>
			<Trigger>
				<Condition>StateTime &gt; 7</Condition>
				<Effect>
					<State>Walking</State>
				</Effect>
			</Trigger>
		</State>
		<State name="Walking">
			<Initialize>
				<Sprite>
					<Name>Walking</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying />
					<FlipSprite />
					<X direction="Input" magnitude="1.375" />
				</Movement>
			</Logic>
		</State>
		<State name="Air">
			<Initialize>
				<Sprite>
					<Name>Air</Name>
				</Sprite>
				<Movement>
					<Flying>False</Flying>
					<FlipSprite />
				</Movement>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Collision>
						<EnableBox name="Stand" />
						<EnableBox name="PlayerRush" />
					</Collision>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Movement.VelocityY &lt;= 0</Condition>
				<Effect>
					<Collision>
						<EnableBox name="Stand" />
					</Collision>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.TouchedBy("RushJetRight") And Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Right" magnitude="1" />
					</Movement>
					<State>RushJet</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.TouchedBy("RushJetLeft") And Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Left" magnitude="1" />
					</Movement>
					<State>RushJet</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>(GravityFlip? Collision.BlockTop : Collision.BlockBottom) And Input.Right==False And Input.Left==False</Condition>
				<Effect>
					<State>Standing</State>
					<Sound name="MMLand" playing="True" />
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>(GravityFlip? Collision.BlockTop : Collision.BlockBottom) And (Input.Right==True Or Input.Left==True)</Condition>
				<Effect>
					<State>Walking</State>
					<Sound name="MMLand" playing="True" />
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4 And (Weapon.CurrentWeapon != "RushCoil" Or GameEntity.NumAlive("RushCoil") != 0) And (Weapon.CurrentWeapon != "RushJet" Or GameEntity.NumAlive("RushJet") != 0)</Condition>
				<Effect>
					<Timer>
						<Start>Shoot</Start>
					</Timer>
					<State>ShootAir</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.TouchedBy("RushCoil")</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<Y direction="Up" magnitude="7" />
					</Movement>
					<State>CoilAir</State>
					<Func>Weapon.AddAmmo(-1)</Func>
				</Effect>
			</Trigger>
		</State>
		<State name="CoilAir">
			<Initialize>
				<Sprite>
					<Name>Air</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>(GravityFlip? Collision.BlockTop : Collision.BlockBottom) And Input.Right==False And Input.Left==False</Condition>
				<Effect>
					<State>Standing</State>
					<Sound name="MMLand" playing="True" />
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>(GravityFlip? Collision.BlockTop : Collision.BlockBottom) And (Input.Right==True Or Input.Left==True)</Condition>
				<Effect>
					<State>Walking</State>
					<Sound name="MMLand" playing="True" />
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4</Condition>
				<Effect>
					<Timer>
						<Start>Shoot</Start>
					</Timer>
					<State>CoilShootAir</State>
				</Effect>
			</Trigger>
		</State>
		<State name="RushJet">
			<Initialize>
				<Sprite>
					<Name>Standing</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
					<EnableBox name="PlayerRush" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="1.375" />
					<Y magnitude="0" />
				</Movement>
			</Logic>
			<Trigger>
				<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4</Condition>
				<Effect>
					<Timer>
						<Start>Shoot</Start>
					</Timer>
					<State>ShootRushJet</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>!Collision.TouchedBy("RushJet")</Condition>
				<Effect>
					<State>Air</State>
				</Effect>
			</Trigger>
		</State>
		<State name="Climbing">
			<Initialize>
				<Sprite>
					<Name>Climbing</Name>
				</Sprite>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="0" />
				</Movement>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>GravityFlip? Collision.BlockTop : Collision.BlockBottom</Condition>
				<Effect>
					<State>Standing</State>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
					<Sprite>
						<Name />
						<Playing>True</Playing>
					</Sprite>
					<Ladder>LetGo</Ladder>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Ladder.InReach == False Or Input.Jump == True</Condition>
				<Effect>
					<State>Air</State>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
					<Ladder>LetGo</Ladder>
					<Sprite>
						<Name />
						<Playing>True</Playing>
					</Sprite>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Ladder.AtTop == True</Condition>
				<Effect>
					<State>ClimbTop</State>
				</Effect>
			</Trigger>
		</State>
		<State name="Sliding">
			<Initialize>
				<Sprite>
					<Name>Sliding</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Slide" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying />
					<FlipSprite />
					<X magnitude="2.5" />
					<Y magnitude="0" />
				</Movement>
			</Logic>
			<Trigger>
				<Condition>Input.Right == True</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Right" magnitude="2.5" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Input.Left == True</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Left" magnitude="2.5" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>StateTime &gt;= 20 And !(GravityFlip? Collision.BlockBottom : Collision.BlockTop) And (Input.Right==True Or Input.Left==True)</Condition>
				<Effect>
					<State>Walking</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>StateTime &gt;= 24 And !(GravityFlip? Collision.BlockBottom : Collision.BlockTop)</Condition>
				<Effect>
					<State>Standing</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>!GravityFlip And Collision.BlockBottom == False And Collision.BlockTop == True</Condition>
				<Effect>
					<State>Air</State>
					<Position>
						<Y base="Inherit" offset="8" direction="Down" />
					</Position>
					<Movement>
						<Flying />
						<FlipSprite />
						<X magnitude="0" />
						<Y magnitude="0" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>GravityFlip And Collision.BlockBottom == True And Collision.BlockTop == False</Condition>
				<Effect>
					<State>Air</State>
					<Position>
						<Y base="Inherit" offset="8" direction="Up" />
					</Position>
					<Movement>
						<Flying />
						<FlipSprite />
						<X magnitude="0" />
						<Y magnitude="0" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.BlockBottom == False And Collision.BlockTop == False</Condition>
				<Effect>
					<State>Air</State>
					<Movement>
						<Flying />
						<FlipSprite />
						<X magnitude="0" />
						<Y magnitude="0" />
					</Movement>
				</Effect>
			</Trigger>
		</State>
		<State name="ClimbTop">
			<Initialize>
				<Sprite>
					<Name>ClimbTop</Name>
				</Sprite>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="0" />
				</Movement>
				<Collision>
					<EnableBox name="Slide" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Input.Jump == True</Condition>
				<Effect>
					<State>Air</State>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
					<Ladder>LetGo</Ladder>
					<Sprite>
						<Name />
						<Playing>True</Playing>
					</Sprite>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Ladder.InReach == False And Ladder.AboveLadder == True</Condition>
				<Effect>
					<State>Standing</State>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
						<Y magnitude="0" />
					</Movement>
					<Ladder>StandOn</Ladder>
					<Sprite>
						<Name />
						<Playing>True</Playing>
					</Sprite>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Ladder.AtTop == False</Condition>
				<Effect>
					<State>Climbing</State>
				</Effect>
			</Trigger>
		</State>
		<State name="ShootStanding">
			<Initialize>
				<Sprite>
					<Name>ShootStanding</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Timer.Value("Shoot") &gt;= 16</Condition>
				<Effect>
					<State>Standing</State>
					<Timer>
						<Delete>Shoot</Delete>
					</Timer>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Input.Right==True Or Input.Left==True</Condition>
				<Effect>
					<State>ShootWalking</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>(Input.Up==True Or (Input.Down==True And Collision.BlockBottom==False)) And Ladder.InReach==True</Condition>
				<Effect>
					<Ladder>Grab</Ladder>
					<State>ShootClimbing</State>
					<Movement>
						<Flying />
						<FlipSprite />
						<Y direction="Input" magnitude="1.3" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Input.Down == True And Ladder.AboveLadder == True</Condition>
				<Effect>
					<Ladder>ClimbDown</Ladder>
					<State>ShootClimbing</State>
				</Effect>
			</Trigger>
		</State>
		<State name="ShootRushJet">
			<Initialize>
				<Sprite>
					<Name>ShootStanding</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
					<EnableBox name="PlayerRush" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="1.375" />
					<Y magnitude="0" />
				</Movement>
			</Logic>
			<Trigger>
				<Condition>Timer.Value("Shoot") &gt;= 16</Condition>
				<Effect>
					<Timer>
						<Delete>Shoot</Delete>
					</Timer>
					<State>RushJet</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>!Collision.TouchedBy("RushJet")</Condition>
				<Effect>
					<State>ShootAir</State>
				</Effect>
			</Trigger>
		</State>
		<State name="ShootWalking">
			<Initialize>
				<Sprite>
					<Name>ShootWalking</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying />
					<FlipSprite />
					<X direction="Input" magnitude="1.375" />
				</Movement>
			</Logic>
			<Trigger>
				<Condition>Timer.Value("Shoot") &gt;= 16</Condition>
				<Effect>
					<State>Walking</State>
					<Timer>
						<Delete>Shoot</Delete>
					</Timer>
				</Effect>
			</Trigger>
		</State>
		<State name="ShootAir">
			<Initialize>
				<Sprite>
					<Name>ShootAir</Name>
				</Sprite>
				<Movement>
					<Flying>False</Flying>
					<FlipSprite />
				</Movement>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Collision>
						<EnableBox name="Stand" />
						<EnableBox name="PlayerRush" />
					</Collision>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Movement.VelocityY &lt;= 0</Condition>
				<Effect>
					<Collision>
						<EnableBox name="Stand" />
					</Collision>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.TouchedBy("RushJetRight") And Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Right" magnitude="1" />
					</Movement>
					<State>ShootRushJet</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.TouchedBy("RushJetLeft") And Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Left" magnitude="1" />
					</Movement>
					<State>ShootRushJet</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Timer.Value("Shoot") &gt;= 16</Condition>
				<Effect>
					<State>Air</State>
					<Timer>
						<Delete>Shoot</Delete>
					</Timer>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.TouchedBy("RushCoil")</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<Y direction="Up" magnitude="6" />
					</Movement>
					<State>CoilShootAir</State>
					<Func>Weapon.AddAmmo(-1)</Func>
				</Effect>
			</Trigger>
		</State>
		<State name="CoilShootAir">
			<Initialize>
				<Sprite>
					<Name>ShootAir</Name>
				</Sprite>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Timer.Value("Shoot") &gt;= 16</Condition>
				<Effect>
					<State>CoilAir</State>
					<Timer>
						<Delete>Shoot</Delete>
					</Timer>
				</Effect>
			</Trigger>
		</State>
		<State name="ShootClimbing">
			<Initialize>
				<Sprite>
					<Name>ShootClimbing</Name>
				</Sprite>
				<Movement>
					<Flying>True</Flying>
					<FlipSprite />
					<X magnitude="0" />
					<Y magnitude="0" />
				</Movement>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Timer.Value("Shoot") &gt;= 16</Condition>
				<Effect>
					<State>Climbing</State>
					<Timer>
						<Delete>Shoot</Delete>
					</Timer>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.BlockBottom == True</Condition>
				<Effect>
					<State>ShootStanding</State>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
					<Sprite>
						<Name />
						<Playing>True</Playing>
					</Sprite>
					<Ladder>LetGo</Ladder>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Ladder.InReach == False Or Input.Jump == True</Condition>
				<Effect>
					<State>ShootAir</State>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
					<Ladder>LetGo</Ladder>
					<Sprite>
						<Name />
						<Playing>True</Playing>
					</Sprite>
				</Effect>
			</Trigger>
		</State>
		<State name="Hurt">
			<Initialize>
				<Sprite>
					<Name>Hurt</Name>
				</Sprite>
				<Movement>
					<Flying />
					<FlipSprite />
					<X magnitude="-0.5" />
					<Y direction="Up" magnitude="2" />
				</Movement>
				<Collision>
					<EnableBox name="Stand" />
				</Collision>
			</Initialize>
			<Logic>
				<Movement>
					<Flying />
					<FlipSprite />
					<X magnitude="0.5" />
				</Movement>
			</Logic>
			<Trigger>
				<Condition>Timer.Exists("ChargeShot")</Condition>
				<Effect>
					<Timer>
						<Delete>ChargeShot</Delete>
						<Delete>ChargeLow</Delete>
						<Delete>ChargeHigh</Delete>
					</Timer>
					<Palette name="MegaMan" index="0" />
					<Sound name="Charge" playing="False" />
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>StateTime &gt; 30</Condition>
				<Effect>
					<State>Standing</State>
					<Movement>
						<Flying />
						<FlipSprite />
						<X magnitude="-1" />
					</Movement>
				</Effect>
			</Trigger>
		</State>
		<State name="EndStage">
			<Initialize>
				<Sprite>
					<Name>Walking</Name>
				</Sprite>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Position.Position.X &lt; 127</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Right" magnitude="1.375" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Position.Position.X &gt; 129</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Left" magnitude="1.375" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Position.Position.X &lt;= 129 And Position.Position.X &gt;= 127</Condition>
				<Effect>
					<Position>
						<X base="128" />
					</Position>
					<State>EndStageJump</State>
				</Effect>
			</Trigger>
		</State>
		<State name="LeaveStage">
			<Initialize />
			<Logic />
			<Trigger>
				<Condition>Position.Position.X &lt; 127</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Right" magnitude="1.3125" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Position.Position.X &gt; 129</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Left" magnitude="1.3125" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.BlockBottom</Condition>
				<Effect>
					<State>LeaveStageWalk</State>
				</Effect>
			</Trigger>
		</State>
		<State name="LeaveStageWalk">
			<Initialize>
				<Sprite>
					<Name>Walking</Name>
				</Sprite>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>!Collision.BlockBottom</Condition>
				<Effect>
					<State>LeaveStage</State>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Position.Position.X &lt; 127</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Right" magnitude="1.375" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Position.Position.X &gt; 129</Condition>
				<Effect>
					<Movement>
						<Flying />
						<FlipSprite />
						<X direction="Left" magnitude="1.375" />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Position.Position.X &lt;= 129 And Position.Position.X &gt;= 127</Condition>
				<Effect>
					<Position>
						<X base="128" />
					</Position>
					<State>TeleportStart</State>
				</Effect>
			</Trigger>
		</State>
		<State name="EndStageJump">
			<Initialize>
				<Sprite>
					<Name>Air</Name>
				</Sprite>
				<Movement>
					<Flying />
					<FlipSprite />
					<X magnitude="0" />
					<Y direction="Up" magnitude="8" />
				</Movement>
			</Initialize>
			<Logic />
			<Trigger>
				<Condition>Position.Position.Y &gt;= 106 And Movement.VelocityY &gt; 0</Condition>
				<Effect>
					<Position>
						<Y base="108" />
					</Position>
					<Movement>
						<Flying>True</Flying>
						<FlipSprite />
						<Y magnitude="0" />
					</Movement>
					<State>Powerup</State>
				</Effect>
			</Trigger>
		</State>
		<State name="Powerup">
			<Initialize />
			<Logic />
			<Trigger>
				<Condition>(StateTime % 24) == 0 And StateTime &lt; 200</Condition>
				<Effect>
					<Spawn name="PowerAbsorb" state="UpLeft">
						<Position />
					</Spawn>
					<Spawn name="PowerAbsorb" state="UpRight">
						<Position />
					</Spawn>
					<Spawn name="PowerAbsorb" state="DownLeft">
						<Position />
					</Spawn>
					<Spawn name="PowerAbsorb" state="DownRight">
						<Position />
					</Spawn>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>(StateTime % 24) == 12 And StateTime &lt; 200</Condition>
				<Effect>
					<Sound name="Powerup" playing="True" />
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>StateTime == 220</Condition>
				<Effect>
					<Movement>
						<Flying>False</Flying>
						<FlipSprite />
					</Movement>
				</Effect>
			</Trigger>
			<Trigger>
				<Condition>Collision.BlockBottom</Condition>
				<Effect>
					<State>TeleportStart</State>
				</Effect>
			</Trigger>
		</State>
		<Trigger>
			<States>Sliding</States>
			<Condition>(Input.Right==True and Movement.Direction==Left) Or (Input.Left==True and Movement.Direction==Right) or Collision.BlockLeft or Collision.BlockRight</Condition>
			<Effect>
				<State>Standing</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking</States>
			<Condition>!(GravityFlip? Collision.BlockTop : Collision.BlockBottom)</Condition>
			<Effect>
				<State>Air</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootStanding,ShootWalking</States>
			<Condition>!(GravityFlip? Collision.BlockTop : Collision.BlockBottom)</Condition>
			<Effect>
				<State>ShootAir</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,ShootStanding,ShootWalking,RushJet</States>
			<Condition>(GravityFlip? Input.Up : Input.Down) And Input.Jump</Condition>
			<Effect>
				<State>Sliding</State>
				<Spawn name="Dust" state="Start">
					<Position />
				</Spawn>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,RushJet,Sliding</States>
			<Condition>!GravityFlip And Input.Jump And !Input.Down</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y direction="Up" magnitude="5.1" />
				</Movement>
				<State>Air</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,RushJet,Sliding</States>
			<Condition>GravityFlip And Input.Jump And !Input.Up</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y direction="Down" magnitude="5.1" />
				</Movement>
				<State>Air</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootStanding,ShootWalking,ShootRushJet</States>
			<Condition>GravityFlip==False And Input.Jump==True</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y direction="Up" magnitude="5.1" />
				</Movement>
				<State>ShootAir</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootStanding,ShootWalking</States>
			<Condition>GravityFlip==True And Input.Jump==True</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y direction="Down" magnitude="5.1" />
				</Movement>
				<State>ShootAir</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>BeginWalk,Walking</States>
			<Condition>Input.Right==False And Input.Left==False</Condition>
			<Effect>
				<State>Standing</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootWalking</States>
			<Condition>(Movement.Direction==Right And Input.Right==False) Or (Movement.Direction==Left And Input.Left==False)</Condition>
			<Effect>
				<State>ShootStanding</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Air,ShootAir,CoilAir,CoilShootAir</States>
			<Condition>Input.Right==True Or Input.Left==True</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<X direction="Input" magnitude="1.3125" />
				</Movement>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Air,ShootAir,CoilAir,CoilShootAir</States>
			<Condition>Input.Right==False And Input.Left==False</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<X magnitude="0" />
				</Movement>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Air,ShootAir,CoilAir,CoilShootAir</States>
			<Condition>GravityFlip? (Collision.BlockBottom == True) : (Collision.BlockTop == True)</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y magnitude="0" />
				</Movement>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Air,ShootAir</States>
			<Condition>Input.JumpHeld==False And (GravityFlip? Movement.VelocityY &gt; 0 : Movement.VelocityY &lt; 0)</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y magnitude="0" />
				</Movement>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,CoilAir</States>
			<Condition>( GravityFlip? (Input.Down Or (Input.Up And !Collision.BlockTop)) : (Input.Up Or (Input.Down And !Collision.BlockBottom)) ) And Ladder.InReach</Condition>
			<Effect>
				<Ladder>Grab</Ladder>
				<State>Climbing</State>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y direction="Input" magnitude="1.3" />
				</Movement>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootStanding,ShootWalking,ShootAir,CoilShootAir</States>
			<Condition>( GravityFlip? (Input.Down Or (Input.Up And !Collision.BlockTop)) : (Input.Up Or (Input.Down And !Collision.BlockBottom)) ) And Ladder.InReach</Condition>
			<Effect>
				<Ladder>Grab</Ladder>
				<State>ShootClimbing</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Climbing,ClimbTop</States>
			<Condition>Input.Up == False And Input.Down == False</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y magnitude="0" />
				</Movement>
				<Sprite>
					<Name />
					<Playing>False</Playing>
				</Sprite>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Climbing,ClimbTop</States>
			<Condition>Input.Up == True Or Input.Down == True</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<Y direction="Input" magnitude="1.3" />
				</Movement>
				<Sprite>
					<Name />
					<Playing>True</Playing>
				</Sprite>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing</States>
			<Condition>Weapon.CurrentWeapon == "MBuster" And Input.ShootHeld == True And Not Timer.Exists("ChargeShot")</Condition>
			<Effect>
				<Timer>
					<Start>ChargeShot</Start>
				</Timer>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Value("ChargeShot") == 40</Condition>
			<Effect>
				<Timer>
					<Start>ChargeLow</Start>
				</Timer>
				<Sound name="Charge" playing="True" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Value("ChargeShot") == 96</Condition>
			<Effect>
				<Timer>
					<Start>ChargeHigh</Start>
					<Delete>ChargeLow</Delete>
				</Timer>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeLow") And (Timer.Value("ChargeLow") / 2) % 2 == 1</Condition>
			<Effect>
				<Palette name="MegaMan" index="0" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeLow") And (Timer.Value("ChargeLow") / 2) % 2 == 0 And Timer.Value("ChargeLow") &lt; 12</Condition>
			<Effect>
				<Palette name="MegaMan" index="1" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeLow") And (Timer.Value("ChargeLow") / 2) % 2 == 0 And Timer.Value("ChargeLow") &gt; 12 And Timer.Value("ChargeLow") &lt; 24</Condition>
			<Effect>
				<Palette name="MegaMan" index="2" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeLow") And (Timer.Value("ChargeLow") / 2) % 2 == 0 And Timer.Value("ChargeLow") &gt; 24</Condition>
			<Effect>
				<Palette name="MegaMan" index="3" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeHigh") And (Timer.Value("ChargeHigh") / 2) % 3 == 0</Condition>
			<Effect>
				<Palette name="MegaMan" index="0" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeHigh") And (Timer.Value("ChargeHigh") / 2) % 3 == 1</Condition>
			<Effect>
				<Palette name="MegaMan" index="4" />
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Timer.Exists("ChargeHigh") And (Timer.Value("ChargeHigh") / 2) % 3 == 2</Condition>
			<Effect>
				<Palette name="MegaMan" index="5" />
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing</States>
			<Condition>(Timer.Exists("ChargeLow") Or Timer.Exists("ChargeHigh")) And Input.ShootHeld == False</Condition>
			<Effect>
				<State>ShootStanding</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>BeginWalk,Walking</States>
			<Condition>(Timer.Exists("ChargeLow") Or Timer.Exists("ChargeHigh")) And Input.ShootHeld == False</Condition>
			<Effect>
				<State>ShootWalking</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Air</States>
			<Condition>(Timer.Exists("ChargeLow") Or Timer.Exists("ChargeHigh")) And Input.ShootHeld == False</Condition>
			<Effect>
				<State>ShootAir</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Climbing,ClimbTop</States>
			<Condition>(Timer.Exists("ChargeLow") Or Timer.Exists("ChargeHigh")) And Input.ShootHeld == False</Condition>
			<Effect>
				<State>ShootClimbing</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing</States>
			<Condition>Timer.Exists("ChargeLow") And Input.ShootHeld == False</Condition>
			<Effect>
				<Spawn name="ChargeLow" state="Start">
					<Position />
				</Spawn>
				<Timer>
					<Start>Shoot</Start>
					<Delete>ChargeShot</Delete>
					<Delete>ChargeLow</Delete>
					<Delete>ChargeHigh</Delete>
				</Timer>
				<Palette name="MegaMan" index="0" />
				<Sound name="Charge" playing="False" />
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing</States>
			<Condition>Timer.Exists("ChargeHigh") And Input.ShootHeld == False</Condition>
			<Effect>
				<Spawn name="ChargeFull" state="Start">
					<Position />
				</Spawn>
				<Timer>
					<Start>Shoot</Start>
					<Delete>ChargeShot</Delete>
					<Delete>ChargeLow</Delete>
					<Delete>ChargeHigh</Delete>
				</Timer>
				<Palette name="MegaMan" index="0" />
				<Sound name="Charged" playing="False" />
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing</States>
			<Condition>Timer.Exists("ChargeShot") And Input.ShootHeld == False</Condition>
			<Effect>
				<Timer>
					<Delete>ChargeShot</Delete>
					<Delete>ChargeLow</Delete>
					<Delete>ChargeHigh</Delete>
				</Timer>
				<Palette name="MegaMan" index="0" />
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing</States>
			<Condition>Input.Select == True</Condition>
			<Effect>
				<Weapon>RotateForward</Weapon>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootStanding,ShootWalking,ShootAir,ShootClimbing,ShootCoilAir,ShootRushJet</States>
			<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4</Condition>
			<Effect>
				<Timer>
					<Reset>Shoot</Reset>
				</Timer>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing,CoilAir,CoilShootAir,RushJet,ShootRushJet</States>
			<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4 And ((Weapon.CurrentWeapon == "RushCoil" And GameEntity.NumAlive("RushCoil") != 0) Or (Weapon.CurrentWeapon == "RushJet" And GameEntity.NumAlive("RushJet") != 0))</Condition>
			<Effect>
				<Spawn name="MBuster" state="Start">
					<Position />
				</Spawn>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Climbing,ClimbTop,ShootClimbing</States>
			<Condition>Input.Left == True Or Input.Right == True</Condition>
			<Effect>
				<Movement>
					<Flying />
					<FlipSprite />
					<X direction="Input" magnitude="1" />
				</Movement>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Collision.TouchedBy("SmallWeapon")</Condition>
			<Effect>
				<Func>Weapon.AddAmmo(2)</Func>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Collision.TouchedBy("BigWeapon")</Condition>
			<Effect>
				<Func>Weapon.AddAmmo(10)</Func>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Collision.TouchedBy("DeductAmmo")</Condition>
			<Effect>
				<Func>Weapon.AddAmmo(-1)</Func>
			</Effect>
		</Trigger>
		<Trigger>
			<States>Standing,BeginWalk,Walking,Air,Climbing,ClimbTop,ShootStanding,ShootWalking,ShootAir,ShootClimbing</States>
			<Condition>Input.Shoot == True And (Weapon.CurrentWeapon != "RushCoil" Or GameEntity.NumAlive("RushCoil") = 0) And (Weapon.CurrentWeapon != "RushJet" Or GameEntity.NumAlive("RushJet") = 0)</Condition>
			<Effect>
				<Weapon>Shoot</Weapon>
			</Effect>
		</Trigger>
		<Trigger>
			<States>RushJet,ShootRushJet</States>
			<Condition>Input.Up == True</Condition>
			<Effect>
				<Position>
					<Y base="Inherit" offset="0.7" direction="Up" />
				</Position>
			</Effect>
		</Trigger>
		<Trigger>
			<States>RushJet,ShootRushJet</States>
			<Condition>Input.Down == True And Collision.BlockBottom == False</Condition>
			<Effect>
				<Position>
					<Y base="Inherit" offset="0.7" direction="Down" />
				</Position>
			</Effect>
		</Trigger>
		<Trigger>
			<States>BeginWalk,Walking</States>
			<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4 And (Weapon.CurrentWeapon != "RushCoil" Or GameEntity.NumAlive("RushCoil") != 0) And (Weapon.CurrentWeapon != "RushJet" Or GameEntity.NumAlive("RushJet") != 0)</Condition>
			<Effect>
				<Timer>
					<Start>Shoot</Start>
				</Timer>
				<State>ShootWalking</State>
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootAir,CoilShootAir</States>
			<Condition>Collision.BlockBottom == True And Input.Right==False And Input.Left==False</Condition>
			<Effect>
				<State>ShootStanding</State>
				<Sound name="MMLand" playing="True" />
			</Effect>
		</Trigger>
		<Trigger>
			<States>ShootAir,CoilShootAir</States>
			<Condition>Collision.BlockBottom == True And (Input.Right==True Or Input.Left==True)</Condition>
			<Effect>
				<State>ShootWalking</State>
				<Sound name="MMLand" playing="True" />
			</Effect>
		</Trigger>
		<Trigger>
			<States>Climbing,ClimbTop</States>
			<Condition>Input.Shoot == True And GameEntity.NumAlive("MBuster") &lt; 4 And (Weapon.CurrentWeapon != "RushCoil" Or GameEntity.NumAlive("RushCoil") != 0) And (Weapon.CurrentWeapon != "RushJet" Or GameEntity.NumAlive("RushJet") != 0)</Condition>
			<Effect>
				<Timer>
					<Start>Shoot</Start>
				</Timer>
				<State>ShootClimbing</State>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Health.Hit == True</Condition>
			<Effect>
				<Sprite>
					<Name />
					<Playing>True</Playing>
				</Sprite>
				<Movement>
					<Flying>False</Flying>
					<FlipSprite />
				</Movement>
				<State>Hurt</State>
				<Sound name="MMHurt" playing="True" />
				<Spawn name="Spark" state="Start">
					<Position />
				</Spawn>
			</Effect>
		</Trigger>
		<Trigger>
			<Condition>Input.StartKey</Condition>
			<Effect>
				<Sound name="pause" playing="True" />
				<Next mode="Push" pause="True" type="Menu" name="Pause" fade="True" />
			</Effect>
		</Trigger>
		<Weapons>
			<Weapon name="MBuster" entity="MBuster" palette="0" />
			<Weapon name="RushCoil" entity="RushCoil" ammo="7" usage="0" palette="6">
				<Meter name="" x="9" y="16" image="images\meters\rushhealth.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0" />
			</Weapon>
			<Weapon name="RushJet" entity="RushJet" ammo="28" usage="0" palette="6">
				<Meter name="" x="9" y="16" image="images\meters\rushhealth.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0" />
			</Weapon>
			<Weapon name="Gyro" entity="Gyro" ammo="28" usage="1" palette="7">
				<Meter name="" x="9" y="16" image="images\meters\gyrohealth.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0" />
			</Weapon>
			<Weapon name="Crystal" entity="Crystal" ammo="28" usage="2" palette="8">
				<Meter name="" x="9" y="16" image="images\meters\crystalhealth.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0" />
			</Weapon>
			<Weapon name="Napalm" entity="Napalm" ammo="28" usage="1" palette="9">
				<Meter name="" x="9" y="16" image="images\meters\napalmhealth.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0" />
			</Weapon>
			<Weapon name="Portal" entity="PortalShot" ammo="28" usage="2" palette="10">
				<Meter name="" x="9" y="16" image="images\meters\napalmhealth.png" background="images\meters\healthmeter_back.png" orientation="vertical" tickX="0" tickY="0" />
			</Weapon>
		</Weapons>
	</Entity>
</Entities>